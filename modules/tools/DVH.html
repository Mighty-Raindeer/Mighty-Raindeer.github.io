<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DVH Analysis Tool | Dose-Volume Histogram Analysis</title>
    <meta name="description" content="Interactive DVH analysis tool for radiation therapy planning. Analyze cumulative and differential dose-volume histograms with statistical metrics.">
    
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #242424;
            --bg-card: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --accent-primary: #ff5722;
            --accent-hover: #f4511e;
            --border-color: rgba(255, 255, 255, 0.1);
        }

        body {
            margin: 0;
            padding: 20px;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Montserrat', sans-serif;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: var(--accent-primary);
            text-align: center;
            margin-bottom: 30px;
        }

        .controls-panel {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .control-row {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-bottom: 15px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .control-group select,
        .control-group input {
            padding: 6px 10px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 4px;
        }

        button {
            padding: 8px 16px;
            background: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button:hover {
            background: var(--accent-hover);
        }

        .visualization-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .chart-section {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .chart-section h2 {
            color: var(--accent-primary);
            margin-top: 0;
            font-size: 1.2rem;
        }

        .chart-container {
            width: 100%;
            height: 400px;
            background: var(--bg-card);
            border-radius: 4px;
            position: relative;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        .statistics-panel {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .statistics-panel h2 {
            color: var(--accent-primary);
            margin-top: 0;
            font-size: 1.2rem;
        }

        .structure-stats {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 4px;
        }

        .structure-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .structure-name {
            font-weight: bold;
            color: var(--text-primary);
        }

        .structure-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid var(--border-color);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .stat-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .constraint-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .constraint-table th,
        .constraint-table td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .constraint-table th {
            background: var(--bg-card);
            color: var(--accent-primary);
            font-size: 0.9rem;
        }

        .constraint-status {
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .constraint-pass {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }

        .constraint-warning {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
        }

        .constraint-fail {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }

        .toggle-group {
            display: flex;
            gap: 10px;
        }

        .toggle-button {
            padding: 6px 12px;
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle-button.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        .info-box {
            background: var(--bg-card);
            padding: 15px;
            border-radius: 4px;
            margin-top: 20px;
            border-left: 3px solid var(--accent-primary);
        }

        .info-box h3 {
            margin-top: 0;
            color: var(--accent-primary);
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
            padding: 10px;
            background: var(--bg-card);
            border-radius: 4px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 20px;
            height: 3px;
            border-radius: 2px;
        }

        .legend-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .visualization-grid {
                grid-template-columns: 1fr;
            }
            
            .control-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-group {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Dose-Volume Histogram (DVH) Analysis Tool</h1>
        
        <div class="controls-panel">
            <div class="control-row">
                <div class="control-group">
                    <label>Plan:</label>
                    <select id="plan-select">
                        <option value="prostate">Prostate IMRT</option>
                        <option value="lung">Lung SBRT</option>
                        <option value="breast">Breast 3D-CRT</option>
                        <option value="hn">Head & Neck VMAT</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>DVH Type:</label>
                    <div class="toggle-group">
                        <button class="toggle-button active" onclick="setDVHType('cumulative')">Cumulative</button>
                        <button class="toggle-button" onclick="setDVHType('differential')">Differential</button>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>Y-Axis:</label>
                    <div class="toggle-group">
                        <button class="toggle-button active" onclick="setVolumeType('relative')">Relative (%)</button>
                        <button class="toggle-button" onclick="setVolumeType('absolute')">Absolute (cc)</button>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>Dose Units:</label>
                    <select id="dose-units">
                        <option value="gy">Gy</option>
                        <option value="cgy">cGy</option>
                        <option value="percent">% of Rx</option>
                    </select>
                </div>
            </div>
            
            <div class="control-row">
                <button onclick="addComparison()">Add Comparison Plan</button>
                <button onclick="exportDVH()">Export Data</button>
                <button onclick="calculateMetrics()">Calculate Metrics</button>
            </div>
        </div>

        <div class="visualization-grid">
            <div class="chart-section">
                <h2>DVH Curves</h2>
                <div class="chart-container">
                    <canvas id="dvh-canvas"></canvas>
                </div>
                <div class="legend" id="dvh-legend">
                    <!-- Legend items will be added dynamically -->
                </div>
            </div>

            <div class="statistics-panel">
                <h2>Structure Statistics</h2>
                
                <div id="structure-stats-container">
                    <!-- Statistics will be populated dynamically -->
                </div>
                
                <h3 style="margin-top: 20px; color: var(--accent-primary);">Dose Constraints</h3>
                <table class="constraint-table">
                    <thead>
                        <tr>
                            <th>Structure</th>
                            <th>Constraint</th>
                            <th>Goal</th>
                            <th>Actual</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="constraints-tbody">
                        <!-- Constraints will be populated dynamically -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="chart-section">
            <h2>Dose Statistics</h2>
            <div class="control-row">
                <div class="control-group">
                    <label>Structure:</label>
                    <select id="structure-select">
                        <option value="ptv">PTV</option>
                        <option value="rectum">Rectum</option>
                        <option value="bladder">Bladder</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Query Type:</label>
                    <select id="query-type">
                        <option value="d-at-v">Dose at Volume (Dx)</option>
                        <option value="v-at-d">Volume at Dose (Vx)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Value:</label>
                    <input type="number" id="query-value" step="1" value="95">
                    <span id="query-unit">%</span>
                </div>
                <button onclick="queryDVH()">Calculate</button>
                <span id="query-result" style="margin-left: 20px; font-weight: bold;"></span>
            </div>
        </div>

        <div class="info-box">
            <h3>DVH Analysis Metrics</h3>
            <p><strong>Common DVH Parameters:</strong></p>
            <ul>
                <li><strong>D95, D98:</strong> Minimum dose received by 95% or 98% of the volume (coverage metric)</li>
                <li><strong>D2, D0.03cc:</strong> Near-maximum dose (hot spot evaluation)</li>
                <li><strong>V20, V5:</strong> Volume receiving at least 20 Gy or 5 Gy (low dose spread)</li>
                <li><strong>Mean Dose:</strong> Average dose to the structure</li>
                <li><strong>Conformity Index (CI):</strong> Ratio of prescription isodose volume to target volume</li>
                <li><strong>Homogeneity Index (HI):</strong> (D2 - D98) / D50</li>
            </ul>
        </div>
    </div>

    <script>
        class DVHAnalyzer {
            constructor() {
                this.canvas = document.getElementById('dvh-canvas');
                this.ctx = this.canvas.getContext('2d');
                this.dvhType = 'cumulative';
                this.volumeType = 'relative';
                this.currentPlan = 'prostate';
                this.structures = this.getStructures();
                
                this.setupCanvas();
                this.bindEvents();
                this.drawDVH();
                this.updateStatistics();
                this.updateConstraints();
            }

            setupCanvas() {
                const rect = this.canvas.parentElement.getBoundingClientRect();
                this.canvas.width = rect.width;
                this.canvas.height = rect.height;
            }

            bindEvents() {
                document.getElementById('plan-select').addEventListener('change', (e) => {
                    this.currentPlan = e.target.value;
                    this.structures = this.getStructures();
                    this.drawDVH();
                    this.updateStatistics();
                    this.updateConstraints();
                });

                document.getElementById('dose-units').addEventListener('change', () => {
                    this.drawDVH();
                });

                window.addEventListener('resize', () => {
                    this.setupCanvas();
                    this.drawDVH();
                });
            }

            getStructures() {
                const plans = {
                    prostate: [
                        { name: 'PTV', color: '#ff5722', type: 'target', volume: 125.3 },
                        { name: 'Rectum', color: '#2196f3', type: 'oar', volume: 85.2 },
                        { name: 'Bladder', color: '#4caf50', type: 'oar', volume: 250.5 },
                        { name: 'Femoral Heads', color: '#ff9800', type: 'oar', volume: 120.8 }
                    ],
                    lung: [
                        { name: 'GTV', color: '#ff5722', type: 'target', volume: 28.5 },
                        { name: 'PTV', color: '#f44336', type: 'target', volume: 45.2 },
                        { name: 'Lung-GTV', color: '#2196f3', type: 'oar', volume: 2850.0 },
                        { name: 'Heart', color: '#4caf50', type: 'oar', volume: 580.3 },
                        { name: 'Chest Wall', color: '#ff9800', type: 'oar', volume: 320.5 }
                    ],
                    breast: [
                        { name: 'PTV Breast', color: '#ff5722', type: 'target', volume: 680.5 },
                        { name: 'Lung', color: '#2196f3', type: 'oar', volume: 1850.2 },
                        { name: 'Heart', color: '#4caf50', type: 'oar', volume: 520.8 },
                        { name: 'Contralateral Breast', color: '#9c27b0', type: 'oar', volume: 720.3 }
                    ],
                    hn: [
                        { name: 'PTV70', color: '#ff5722', type: 'target', volume: 120.5 },
                        { name: 'PTV63', color: '#f44336', type: 'target', volume: 285.3 },
                        { name: 'PTV56', color: '#ff9800', type: 'target', volume: 450.2 },
                        { name: 'Parotid L', color: '#2196f3', type: 'oar', volume: 28.5 },
                        { name: 'Parotid R', color: '#03a9f4', type: 'oar', volume: 32.1 },
                        { name: 'Spinal Cord', color: '#4caf50', type: 'oar', volume: 25.3 }
                    ]
                };
                
                return plans[this.currentPlan] || plans.prostate;
            }

            generateDVHData(structure) {
                const points = [];
                const maxDose = structure.type === 'target' ? 85 : 70;
                
                if (this.dvhType === 'cumulative') {
                    // Generate cumulative DVH
                    for (let dose = 0; dose <= maxDose; dose += 0.5) {
                        let volume;
                        if (structure.type === 'target') {
                            // Target: sigmoid curve
                            const D50 = 75;
                            const gamma = 2;
                            volume = 100 / (1 + Math.exp(-gamma * (dose - D50) / 10));
                        } else {
                            // OAR: exponential falloff
                            const lambda = 0.08 + Math.random() * 0.04;
                            volume = 100 * Math.exp(-lambda * dose);
                        }
                        
                        if (this.volumeType === 'absolute') {
                            volume = (volume / 100) * structure.volume;
                        }
                        
                        points.push({ dose, volume });
                    }
                } else {
                    // Generate differential DVH
                    for (let dose = 0; dose <= maxDose; dose += 0.5) {
                        let volume;
                        if (structure.type === 'target') {
                            // Target: gaussian-like peak
                            const mean = 75;
                            const sigma = 3;
                            volume = 100 * Math.exp(-Math.pow(dose - mean, 2) / (2 * sigma * sigma));
                        } else {
                            // OAR: exponential with peak at low dose
                            const peak = 5;
                            volume = 100 * Math.exp(-Math.pow(dose - peak, 2) / 200);
                        }
                        
                        if (this.volumeType === 'absolute') {
                            volume = (volume / 100) * structure.volume * 0.05; // Scale for differential
                        }
                        
                        points.push({ dose, volume });
                    }
                }
                
                return points;
            }

            drawDVH() {
                const ctx = this.ctx;
                const width = this.canvas.width;
                const height = this.canvas.height;
                const padding = 60;
                
                // Clear canvas
                ctx.fillStyle = '#1a1a1a';
                ctx.fillRect(0, 0, width, height);
                
                // Draw axes
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding, padding);
                ctx.lineTo(padding, height - padding);
                ctx.lineTo(width - padding, height - padding);
                ctx.stroke();
                
                // Draw grid lines
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                for (let i = 0; i <= 10; i++) {
                    const y = padding + (height - 2 * padding) * i / 10;
                    ctx.beginPath();
                    ctx.moveTo(padding, y);
                    ctx.lineTo(width - padding, y);
                    ctx.stroke();
                    
                    const x = padding + (width - 2 * padding) * i / 10;
                    ctx.beginPath();
                    ctx.moveTo(x, padding);
                    ctx.lineTo(x, height - padding);
                    ctx.stroke();
                }
                
                // Draw DVH curves
                this.structures.forEach(structure => {
                    const data = this.generateDVHData(structure);
                    
                    ctx.strokeStyle = structure.color;
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    
                    data.forEach((point, index) => {
                        const x = padding + (width - 2 * padding) * (point.dose / 85);
                        const y = height - padding - (height - 2 * padding) * (point.volume / 100);
                        
                        if (index === 0) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    });
                    
                    ctx.stroke();
                });
                
                // Draw axes labels
                ctx.fillStyle = 'white';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                
                // X-axis labels
                for (let i = 0; i <= 10; i++) {
                    const dose = (85 * i / 10).toFixed(0);
                    const x = padding + (width - 2 * padding) * i / 10;
                    ctx.fillText(dose, x, height - padding + 20);
                }
                ctx.fillText('Dose (Gy)', width / 2, height - 10);
                
                // Y-axis labels
                ctx.textAlign = 'right';
                for (let i = 0; i <= 10; i++) {
                    const volume = (100 - i * 10).toFixed(0);
                    const y = padding + (height - 2 * padding) * i / 10;
                    ctx.fillText(volume, padding - 10, y + 5);
                }
                
                // Y-axis title
                ctx.save();
                ctx.translate(15, height / 2);
                ctx.rotate(-Math.PI / 2);
                ctx.textAlign = 'center';
                ctx.fillText(this.volumeType === 'relative' ? 'Volume (%)' : 'Volume (cc)', 0, 0);
                ctx.restore();
                
                this.updateLegend();
            }

            updateLegend() {
                const legendDiv = document.getElementById('dvh-legend');
                legendDiv.innerHTML = '';
                
                this.structures.forEach(structure => {
                    const item = document.createElement('div');
                    item.className = 'legend-item';
                    item.innerHTML = `
                        <div class="legend-color" style="background: ${structure.color}"></div>
                        <span class="legend-label">${structure.name}</span>
                    `;
                    legendDiv.appendChild(item);
                });
            }

            updateStatistics() {
                const container = document.getElementById('structure-stats-container');
                container.innerHTML = '';
                
                this.structures.forEach(structure => {
                    const stats = this.calculateStructureStats(structure);
                    
                    const statsDiv = document.createElement('div');
                    statsDiv.className = 'structure-stats';
                    statsDiv.innerHTML = `
                        <div class="structure-header">
                            <span class="structure-name">${structure.name}</span>
                            <div class="structure-color" style="background: ${structure.color}"></div>
                        </div>
                        <div class="stat-row">
                            <span>Volume:</span>
                            <span class="stat-value">${structure.volume.toFixed(1)} cc</span>
                        </div>
                        <div class="stat-row">
                            <span>Mean Dose:</span>
                            <span class="stat-value">${stats.meanDose.toFixed(1)} Gy</span>
                        </div>
                        <div class="stat-row">
                            <span>Max Dose:</span>
                            <span class="stat-value">${stats.maxDose.toFixed(1)} Gy</span>
                        </div>
                        <div class="stat-row">
                            <span>D95:</span>
                            <span class="stat-value">${stats.d95.toFixed(1)} Gy</span>
                        </div>
                        <div class="stat-row">
                            <span>V20:</span>
                            <span class="stat-value">${stats.v20.toFixed(1)}%</span>
                        </div>
                    `;
                    container.appendChild(statsDiv);
                });
            }

            calculateStructureStats(structure) {
                // Simulated statistics
                if (structure.type === 'target') {
                    return {
                        meanDose: 75.5 + Math.random() * 2,
                        maxDose: 82.0 + Math.random() * 3,
                        d95: 73.0 + Math.random() * 2,
                        v20: 100.0
                    };
                } else {
                    return {
                        meanDose: 15.0 + Math.random() * 10,
                        maxDose: 45.0 + Math.random() * 20,
                        d95: 5.0 + Math.random() * 5,
                        v20: 30.0 + Math.random() * 30
                    };
                }
            }

            updateConstraints() {
                const tbody = document.getElementById('constraints-tbody');
                tbody.innerHTML = '';
                
                const constraints = this.getConstraints();
                constraints.forEach(constraint => {
                    const row = document.createElement('tr');
                    const status = this.evaluateConstraint(constraint);
                    
                    row.innerHTML = `
                        <td>${constraint.structure}</td>
                        <td>${constraint.metric}</td>
                        <td>${constraint.goal}</td>
                        <td>${constraint.actual}</td>
                        <td><span class="constraint-status ${status}">${status.replace('constraint-', '').toUpperCase()}</span></td>
                    `;
                    tbody.appendChild(row);
                });
            }

            getConstraints() {
                const constraintSets = {
                    prostate: [
                        { structure: 'PTV', metric: 'D95', goal: '≥ 76 Gy', actual: '76.5 Gy' },
                        { structure: 'PTV', metric: 'D2', goal: '≤ 83 Gy', actual: '81.2 Gy' },
                        { structure: 'Rectum', metric: 'V70', goal: '< 20%', actual: '18.5%' },
                        { structure: 'Rectum', metric: 'V50', goal: '< 50%', actual: '42.3%' },
                        { structure: 'Bladder', metric: 'V70', goal: '< 35%', actual: '28.2%' },
                        { structure: 'Femoral Heads', metric: 'D5', goal: '< 50 Gy', actual: '42.5 Gy' }
                    ],
                    lung: [
                        { structure: 'PTV', metric: 'D95', goal: '≥ 48 Gy', actual: '48.2 Gy' },
                        { structure: 'Lung-GTV', metric: 'V20', goal: '< 30%', actual: '22.5%' },
                        { structure: 'Lung-GTV', metric: 'V5', goal: '< 60%', actual: '48.3%' },
                        { structure: 'Heart', metric: 'Mean', goal: '< 10 Gy', actual: '7.8 Gy' },
                        { structure: 'Chest Wall', metric: 'D30cc', goal: '< 30 Gy', actual: '28.5 Gy' }
                    ]
                };
                
                return constraintSets[this.currentPlan] || constraintSets.prostate;
            }

            evaluateConstraint(constraint) {
                const actual = parseFloat(constraint.actual);
                const goalMatch = constraint.goal.match(/([<>≤≥]+)\s*([\d.]+)/);
                
                if (!goalMatch) return 'constraint-warning';
                
                const operator = goalMatch[1];
                const goalValue = parseFloat(goalMatch[2]);
                
                let passed = false;
                switch (operator) {
                    case '<':
                        passed = actual < goalValue;
                        break;
                    case '≤':
                        passed = actual <= goalValue;
                        break;
                    case '>':
                        passed = actual > goalValue;
                        break;
                    case '≥':
                        passed = actual >= goalValue;
                        break;
                }
                
                if (passed) return 'constraint-pass';
                if (Math.abs(actual - goalValue) / goalValue < 0.05) return 'constraint-warning';
                return 'constraint-fail';
            }
        }

        // Global functions for button controls
        function setDVHType(type) {
            document.querySelectorAll('.toggle-button').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(type)) {
                    btn.classList.add('active');
                } else if (btn.textContent.includes('Cumulative') || btn.textContent.includes('Differential')) {
                    btn.classList.remove('active');
                }
            });
            
            if (window.dvhAnalyzer) {
                window.dvhAnalyzer.dvhType = type;
                window.dvhAnalyzer.drawDVH();
            }
        }

        function setVolumeType(type) {
            document.querySelectorAll('.toggle-button').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(type)) {
                    btn.classList.add('active');
                } else if (btn.textContent.includes('Relative') || btn.textContent.includes('Absolute')) {
                    btn.classList.remove('active');
                }
            });
            
            if (window.dvhAnalyzer) {
                window.dvhAnalyzer.volumeType = type;
                window.dvhAnalyzer.drawDVH();
            }
        }

        function queryDVH() {
            const structure = document.getElementById('structure-select').value;
            const queryType = document.getElementById('query-type').value;
            const value = parseFloat(document.getElementById('query-value').value);
            
            let result;
            if (queryType === 'd-at-v') {
                // Simulate D at V calculation
                result = `D${value} = ${(75 - (100 - value) * 0.5).toFixed(1)} Gy`;
            } else {
                // Simulate V at D calculation
                result = `V${value} = ${Math.max(0, 100 - value * 1.5).toFixed(1)}%`;
            }
            
            document.getElementById('query-result').textContent = result;
        }

        function addComparison() {
            alert('Comparison plan feature would load additional DVH data for plan comparison');
        }

        function exportDVH() {
            alert('Export would generate CSV file with DVH data points');
        }

        function calculateMetrics() {
            alert('Calculate HI, CI, and other plan quality metrics');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            window.dvhAnalyzer = new DVHAnalyzer();
        });
    </script>
</body>
</html>